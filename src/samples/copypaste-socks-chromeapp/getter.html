<link rel="import" href='lib/third_party/bower/polymer/polymer.html'>

<polymer-element name='copypaste-getter'>

  <template>
    <style>
      textarea {
        width: 30em;
        height: 5em;
      }      
      .warning {
        color: red;
      }        
    </style>

    <div id='getAccessPanel'>
      <div id='step1ContainerNode'>
        <h1 i18n-content='getAccess'></h1>
        <p i18n-content='generateHandshakeAndSend'></p>
        <p>
          <button id='generateIceCandidatesButton' i18n-content='generate' on-click='{{ generateIceCandidates }}'></button>
        </p>
      </div>

      <div id='step2ContainerNode' style='display: {{ model.readyForStep2 ? "block" : "none" }};'>
        <textarea id='outboundMessageNode' disabled value='{{ model.outboundMessageValue }}'></textarea>
        <p i18n-content='copyPasteAndSend'></p>
        <p class='warning' i18n-content='warning'></p><br>
        <p i18n-content='pasteAndStartProxying'></p>
        <textarea id='inboundMessageNode' value='{{ inboundText }}' on-keyup='{{ parseInboundText }}'></textarea>
        <p>
          <button id='consumeMessageButton' disabled?='{{ !model.inputIsWellFormed }}' i18n-content='startProxying' on-click='{{ consumeInboundText }}'></button>
        </p>
      </div>

      <div>
        {{ model.totalBytesReceived }}<span i18n-content='bytesReceived'></span><br>
        {{ model.totalBytesSent }}<span i18n-content='bytesSent'></span><br>
      </div>      
    </div>

  </template>

  <script src='getter.js'>
  </script>

</polymer-element>
